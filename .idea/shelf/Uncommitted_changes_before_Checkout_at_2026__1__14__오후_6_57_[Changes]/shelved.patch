Index: app/src/main/java/com/example/madcamp_1/ui/screen/dashboard/dashboardScreen.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// app/src/main/java/com/example/madcamp_1/ui/screen/dashboard/dashboardScreen.kt\npackage com.example.madcamp_1.ui.screen.dashboard\n\nimport androidx.compose.foundation.Image\nimport androidx.compose.foundation.background\nimport androidx.compose.foundation.clickable\nimport androidx.compose.foundation.layout.*\nimport androidx.compose.foundation.lazy.LazyColumn\nimport androidx.compose.foundation.lazy.items\nimport androidx.compose.foundation.shape.CircleShape\nimport androidx.compose.foundation.shape.RoundedCornerShape\nimport androidx.compose.material.icons.Icons\nimport androidx.compose.material.icons.filled.Edit\nimport androidx.compose.material.icons.filled.Favorite\nimport androidx.compose.material.icons.filled.FavoriteBorder\nimport androidx.compose.material.icons.filled.Search\nimport androidx.compose.material.icons.outlined.Campaign\nimport androidx.compose.material.icons.outlined.ChatBubbleOutline\nimport androidx.compose.material.icons.outlined.HelpOutline\nimport androidx.compose.material.icons.outlined.Lightbulb\nimport androidx.compose.material3.*\nimport androidx.compose.material3.pulltorefresh.PullToRefreshBox\nimport androidx.compose.material3.pulltorefresh.PullToRefreshDefaults\nimport androidx.compose.material3.pulltorefresh.rememberPullToRefreshState\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.remember\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.draw.clip\nimport androidx.compose.ui.graphics.Color\nimport androidx.compose.ui.graphics.vector.ImageVector\nimport androidx.compose.ui.layout.ContentScale\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.text.style.TextOverflow\nimport androidx.compose.ui.unit.dp\nimport androidx.compose.ui.unit.sp\nimport coil.compose.AsyncImage\nimport com.example.madcamp_1.data.utils.AuthManager\nimport com.example.madcamp_1.ui.theme.UnivsFontFamily\nimport com.example.madcamp_1.ui.util.UiMappings\nimport com.example.madcamp_1.ui.util.dataUrlToImageBitmapOrNull\nimport androidx.compose.animation.animateColorAsState // animateColorAsState를 위해 필요\nimport androidx.compose.animation.core.tween        // tween을 위해 필요\nimport androidx.compose.runtime.getValue\n\ndata class TagUIConfig(\n    val name: String,\n    val icon: ImageVector,\n    val color: Color\n)\n\n@OptIn(ExperimentalMaterial3Api::class)\n@Composable\nfun DashboardScreen(\n    searchText: String,\n    selectedTag: String,\n    posts: List<Post>,\n    isLoading: Boolean,\n    onSearchChange: (String) -> Unit,\n    onTagSelect: (String) -> Unit,\n    onNavigateToWrite: () -> Unit,\n    onPostClick: (String) -> Unit,\n    onRefresh: () -> Unit\n) {\n    val mySchoolId = AuthManager.getSchoolId()\n    val myBrandColor = UiMappings.schoolColor(mySchoolId)\n\n    val tagConfigs = listOf(\n        TagUIConfig(\"공지\", Icons.Outlined.Campaign, UiMappings.tagColor(\"공지\")),\n        TagUIConfig(\"소통\", Icons.Outlined.ChatBubbleOutline, UiMappings.tagColor(\"소통\")),\n        TagUIConfig(\"꿀팁\", Icons.Outlined.Lightbulb, UiMappings.tagColor(\"꿀팁\")),\n        TagUIConfig(\"Q&A\", Icons.Outlined.HelpOutline, UiMappings.tagColor(\"Q&A\"))\n    )\n\n    val state = rememberPullToRefreshState()\n\n    Scaffold(\n        floatingActionButton = {\n            FloatingActionButton(\n                onClick = onNavigateToWrite,\n                containerColor = myBrandColor,\n                contentColor = Color.White,\n                shape = CircleShape\n            ) { Icon(Icons.Default.Edit, contentDescription = null) }\n        },\n        containerColor = Color(0xFFF8F9FA)\n    ) { padding ->\n        PullToRefreshBox(\n            isRefreshing = isLoading,\n            onRefresh = onRefresh,\n            state = state,\n            modifier = Modifier\n                .fillMaxSize()\n                .padding(top = 0.dp, bottom = padding.calculateBottomPadding()),\n            indicator = {\n                PullToRefreshDefaults.Indicator(\n                    state = state,\n                    isRefreshing = isLoading,\n                    modifier = Modifier.align(Alignment.TopCenter),\n                    containerColor = Color.White,\n                    color = myBrandColor\n                )\n            }\n        ) {\n            Column(\n                modifier = Modifier\n                    .fillMaxSize()\n                    .padding(horizontal = 16.dp)\n            ) {\n                Spacer(modifier = Modifier.height(16.dp))\n\n                OutlinedTextField(\n                    value = searchText,\n                    onValueChange = onSearchChange,\n                    placeholder = { Text(\"글 제목, 내용 검색\", fontFamily = UnivsFontFamily) },\n                    modifier = Modifier.fillMaxWidth(),\n                    leadingIcon = { Icon(Icons.Default.Search, contentDescription = null, tint = Color.Gray) },\n                    shape = RoundedCornerShape(16.dp),\n                    colors = OutlinedTextFieldDefaults.colors(\n                        unfocusedContainerColor = Color.White,\n                        focusedContainerColor = Color.White,\n                        unfocusedBorderColor = Color.Transparent,\n                        focusedBorderColor = myBrandColor,\n                        cursorColor = myBrandColor\n                    )\n                )\n\n                Spacer(modifier = Modifier.height(16.dp))\n\n                // ✅ 애니메이션이 적용된 태그 바\n                Row(\n                    modifier = Modifier\n                        .fillMaxWidth()\n                        .padding(vertical = 4.dp),\n                    horizontalArrangement = Arrangement.spacedBy(8.dp)\n                ) {\n                    tagConfigs.forEach { config ->\n                        val isSelected = selectedTag == config.name\n\n                        // 1. 배경색 애니메이션 (투명 -> 진한 색)\n                        val animatedContainerColor by animateColorAsState(\n                            targetValue = if (isSelected) config.color else config.color.copy(alpha = 0.08f),\n                            animationSpec = tween(durationMillis = 300),\n                            label = \"containerColor\"\n                        )\n\n                        // 2. 콘텐츠색 애니메이션 (진한 색 -> 흰색)\n                        val animatedContentColor by animateColorAsState(\n                            targetValue = if (isSelected) Color.White else config.color,\n                            animationSpec = tween(durationMillis = 300),\n                            label = \"contentColor\"\n                        )\n\n                        // 3. 테두리색 애니메이션 (투명도 조절)\n                        val animatedBorderColor by animateColorAsState(\n                            targetValue = if (isSelected) Color.Transparent else config.color.copy(alpha = 0.3f),\n                            animationSpec = tween(durationMillis = 300),\n                            label = \"borderColor\"\n                        )\n\n                        FilterChip(\n                            selected = isSelected,\n                            onClick = { onTagSelect(if (isSelected) \"\" else config.name) },\n                            label = {\n                                Row(verticalAlignment = Alignment.CenterVertically) {\n                                    Icon(\n                                        imageVector = config.icon,\n                                        contentDescription = null,\n                                        modifier = Modifier.size(15.dp),\n                                        tint = animatedContentColor // 애니메이션 적용\n                                    )\n                                    Spacer(modifier = Modifier.width(4.dp))\n                                    Text(\n                                        text = config.name,\n                                        fontFamily = UnivsFontFamily,\n                                        fontSize = 13.sp,\n                                        fontWeight = if (isSelected) FontWeight.ExtraBold else FontWeight.Bold,\n                                        color = animatedContentColor // 애니메이션 적용\n                                    )\n                                }\n                            },\n                            shape = RoundedCornerShape(13.dp),\n                            colors = FilterChipDefaults.filterChipColors(\n                                containerColor = animatedContainerColor, // 애니메이션 적용\n                                labelColor = animatedContentColor,\n                                selectedContainerColor = animatedContainerColor,\n                                selectedLabelColor = animatedContentColor\n                            ),\n                            border = FilterChipDefaults.filterChipBorder(\n                                enabled = true,\n                                selected = isSelected,\n                                borderColor = animatedBorderColor, // 애니메이션 적용\n                                selectedBorderColor = Color.Transparent,\n                                borderWidth = 1.dp\n                            )\n                        )\n                    }\n                }\n\n                Spacer(modifier = Modifier.height(12.dp))\n\n                if (isLoading && posts.isEmpty()) {\n                    Box(modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center) {\n                        CircularProgressIndicator(color = myBrandColor)\n                    }\n                } else {\n                    LazyColumn(\n                        modifier = Modifier.fillMaxSize(),\n                        verticalArrangement = Arrangement.spacedBy(10.dp),\n                        contentPadding = PaddingValues(bottom = 24.dp)\n                    ) {\n                        items(posts) { post ->\n                            PostItem(\n                                post = post,\n                                mySchoolId = mySchoolId,\n                                myBrandColor = myBrandColor,\n                                onClick = { onPostClick(post.id) }\n                            )\n\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n\n@Composable\nprivate fun PostItem(\n    post: Post,\n    mySchoolId: String,\n    myBrandColor: Color,\n    onClick: () -> Unit\n) {\n    val tagColor = UiMappings.tagColor(post.category)\n    val authorSchoolId = post.authorSchoolId\n    val authorSchoolColor = UiMappings.schoolColor(authorSchoolId)\n    val isSameSchool = !authorSchoolId.isNullOrBlank() && authorSchoolId.equals(mySchoolId, ignoreCase = true)\n\n    // 하트 색상 고정\n    val heartColor = Color(0xFFE53935)\n\n    Card(\n        modifier = Modifier\n            .fillMaxWidth()\n            .clickable { onClick() },\n        shape = RoundedCornerShape(16.dp),\n        colors = CardDefaults.cardColors(containerColor = Color.White),\n        border = androidx.compose.foundation.BorderStroke(1.dp, myBrandColor.copy(alpha = 0.14f)),\n        elevation = CardDefaults.cardElevation(defaultElevation = 1.dp)\n    ) {\n        Row(\n            modifier = Modifier\n                .padding(16.dp)\n                .fillMaxWidth(),\n            verticalAlignment = Alignment.CenterVertically\n        ) {\n            Column(modifier = Modifier.weight(1f)) {\n                // ✅ 파스텔 톤으로 변경된 게시글 태그\n                Surface(\n                    color = tagColor.copy(alpha = 0.15f), // 연한 파스텔 배경\n                    shape = RoundedCornerShape(10.dp)\n                ) {\n                    Text(\n                        text = post.category,\n                        modifier = Modifier.padding(horizontal = 10.dp, vertical = 4.dp),\n                        color = tagColor, // 글자는 원래의 진한 색상 유지 (가독성)\n                        fontSize = 11.sp,\n                        fontFamily = UnivsFontFamily,\n                        fontWeight = FontWeight.ExtraBold\n                    )\n                }\n\n                Spacer(modifier = Modifier.height(10.dp))\n\n                Text(\n                    text = post.title,\n                    fontFamily = UnivsFontFamily,\n                    fontWeight = FontWeight.ExtraBold,\n                    fontSize = 16.sp,\n                    maxLines = 1,\n                    color = Color(0xFF111111)\n                )\n\n                Text(\n                    text = post.content,\n                    fontFamily = UnivsFontFamily,\n                    fontSize = 13.sp,\n                    color = Color.Gray,\n                    maxLines = 2,\n                    modifier = Modifier.padding(top = 6.dp)\n                )\n\n                Spacer(modifier = Modifier.height(12.dp))\n\n                // ✅ 하단 메타 정보 영역 수정\n                // ✅ 하단 메타 정보 영역: 간격 최적화 및 세로 바 구분선 적용\n                Row(\n                    modifier = Modifier.fillMaxWidth(),\n                    verticalAlignment = Alignment.CenterVertically\n                ) {\n                    // 1. 좋아요 (왼쪽 고정)\n                    Icon(\n                        imageVector = Icons.Default.Favorite,\n                        contentDescription = null,\n                        tint = heartColor,\n                        modifier = Modifier.size(12.dp)\n                    )\n                    Spacer(modifier = Modifier.width(4.dp))\n                    Text(\n                        text = post.likes.toString(),\n                        fontFamily = UnivsFontFamily,\n                        fontSize = 11.sp,\n                        fontWeight = FontWeight.Bold,\n                        color = Color(0xFF424242)\n                    )\n\n                    Spacer(modifier = Modifier.width(10.dp)) // 좋아요와 댓글 사이 간격 유지\n\n                    // 2. 댓글 (왼쪽 고정)\n                    Icon(\n                        imageVector = Icons.Outlined.ChatBubbleOutline,\n                        contentDescription = null,\n                        tint = Color(0xFF9E9E9E),\n                        modifier = Modifier.size(12.dp)\n                    )\n                    Spacer(modifier = Modifier.width(4.dp))\n                    Text(\n                        text = post.commentCount.toString(),\n                        fontFamily = UnivsFontFamily,\n                        fontSize = 11.sp,\n                        fontWeight = FontWeight.Bold,\n                        color = Color(0xFF424242)\n                    )\n\n                    // ✅ 구분선 및 정보 밀착 배치\n                    Spacer(modifier = Modifier.width(8.dp))\n                    Text(\"|\", fontSize = 9.sp, color = Color(0xFFE0E0E0)) // 연한 회색 세로 바\n                    Spacer(modifier = Modifier.width(8.dp))\n\n                    // 3. 시간\n                    Text(\n                        text = UiMappings.formatDashboardTime(post.timestamp),\n                        fontFamily = UnivsFontFamily,\n                        fontSize = 11.sp,\n                        color = Color(0xFFBDBDBD)\n                    )\n\n                    Spacer(modifier = Modifier.width(8.dp))\n                    Text(\"|\", fontSize = 9.sp, color = Color(0xFFE0E0E0)) // 연한 회색 세로 바\n                    Spacer(modifier = Modifier.width(8.dp))\n\n                    // 4. 작성자 (학교 색상 배경 닉네임)\n                    val bgAlpha = if (isSameSchool) 0.18f else 0.10f\n                    Surface(\n                        color = authorSchoolColor.copy(alpha = bgAlpha),\n                        shape = RoundedCornerShape(6.dp)\n                    ) {\n                        Text(\n                            text = post.author,\n                            modifier = Modifier.padding(horizontal = 6.dp, vertical = 2.dp),\n                            fontFamily = UnivsFontFamily,\n                            fontSize = 10.sp,\n                            color = authorSchoolColor,\n                            fontWeight = FontWeight.ExtraBold,\n                            maxLines = 1,\n                            overflow = TextOverflow.Ellipsis\n                        )\n                    }\n                }\n            }\n\n            // 우측 썸네일 (썸네일이 있어도 좌측 메타 정보의 위치는 영향을 받지 않음)\n            if (!post.imageUri.isNullOrBlank()) {\n                Spacer(modifier = Modifier.width(12.dp))\n                val decoded = remember(post.imageUri) {\n                    post.imageUri?.let { dataUrlToImageBitmapOrNull(it) }\n                }\n\n                if (decoded != null) {\n                    Image(\n                        bitmap = decoded,\n                        contentDescription = null,\n                        modifier = Modifier\n                            .size(90.dp)\n                            .clip(RoundedCornerShape(12.dp)),\n                        contentScale = ContentScale.Crop\n                    )\n                } else {\n                    AsyncImage(\n                        model = post.imageUri,\n                        contentDescription = null,\n                        modifier = Modifier\n                            .size(72.dp)\n                            .clip(RoundedCornerShape(12.dp)),\n                        contentScale = ContentScale.Crop\n                    )\n                }\n            }\n        }\n    }\n}\n\n\n@Composable\nprivate fun SchoolBadge(\n    label: String,\n    color: Color,\n    emphasize: Boolean\n) {\n    val bg = if (emphasize) color.copy(alpha = 0.20f) else color.copy(alpha = 0.12f)\n    Box(\n        modifier = Modifier\n            .background(bg, RoundedCornerShape(10.dp))\n            .padding(horizontal = 8.dp, vertical = 3.dp)\n    ) {\n        Text(\n            text = label,\n            fontFamily = UnivsFontFamily,\n            fontSize = 10.sp,\n            fontWeight = FontWeight.ExtraBold,\n            color = color\n        )\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/madcamp_1/ui/screen/dashboard/dashboardScreen.kt b/app/src/main/java/com/example/madcamp_1/ui/screen/dashboard/dashboardScreen.kt
--- a/app/src/main/java/com/example/madcamp_1/ui/screen/dashboard/dashboardScreen.kt	(revision 374feda143a9d5f69a221187031ac6a3f36e5641)
+++ b/app/src/main/java/com/example/madcamp_1/ui/screen/dashboard/dashboardScreen.kt	(date 1768357672583)
@@ -354,7 +354,7 @@
                     val bgAlpha = if (isSameSchool) 0.18f else 0.10f
                     Surface(
                         color = authorSchoolColor.copy(alpha = bgAlpha),
-                        shape = RoundedCornerShape(6.dp)
+                        shape = RoundedCornerShape(15.dp)
                     ) {
                         Text(
                             text = post.author,
